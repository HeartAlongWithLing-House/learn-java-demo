<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.goku.mybatis.mapper.ext.sysUserExtMapper">
    <resultMap id="BaseResultExtMap" type="com.goku.mybatis.model.sysUser">
        <id column="id" jdbcType="VARCHAR" property="id" />
        <result column="username" jdbcType="VARCHAR" property="username" />
        <result column="password" jdbcType="VARCHAR" property="password" />
        <result column="name" jdbcType="VARCHAR" property="name" />
        <result column="sex" jdbcType="VARCHAR" property="sex" />
        <result column="status" jdbcType="CHAR" property="status" />
        <result column="org_id" jdbcType="VARCHAR" property="orgId" />
        <result column="email" jdbcType="VARCHAR" property="email" />
        <result column="idcard" jdbcType="VARCHAR" property="idcard" />
        <result column="is_admin" jdbcType="VARCHAR" property="isAdmin" />
        <result column="sort" jdbcType="BIGINT" property="sort" />
        <result column="mobile" jdbcType="VARCHAR" property="mobile" />
    </resultMap>
    <resultMap id="userinfoBaseResultMap" type="com.goku.mybatis.model.sysUserInfo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="id" jdbcType="VARCHAR" property="id" />
        <result column="address" jdbcType="VARCHAR" property="address" />
        <result column="post_code" jdbcType="VARCHAR" property="postCode" />
        <result column="height" jdbcType="VARCHAR" property="height" />
        <result column="weight" jdbcType="VARCHAR" property="weight" />
        <result column="birthday" jdbcType="DATE" property="birthday" />
        <result column="blood" jdbcType="VARCHAR" property="blood" />
        <result column="culture" jdbcType="VARCHAR" property="culture" />
        <result column="finish_school_date" jdbcType="DATE" property="finishSchoolDate" />
        <result column="folk" jdbcType="VARCHAR" property="folk" />
        <result column="government" jdbcType="VARCHAR" property="government" />
        <result column="homepage" jdbcType="VARCHAR" property="homepage" />
        <result column="householder" jdbcType="VARCHAR" property="householder" />
        <result column="marriage" jdbcType="VARCHAR" property="marriage" />
        <result column="msn" jdbcType="VARCHAR" property="msn" />
        <result column="nativity_address" jdbcType="VARCHAR" property="nativityAddress" />
        <result column="qq" jdbcType="VARCHAR" property="qq" />
        <result column="speciality" jdbcType="VARCHAR" property="speciality" />
        <result column="description" jdbcType="VARCHAR" property="description" />
        <result column="version" jdbcType="BIGINT" property="version" />
    </resultMap>
    <resultMap id="UserinfoBaseResultExtMap" type="com.goku.mybatis.model.sysUser" extends="BaseResultExtMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <result column="address" jdbcType="VARCHAR" property="sysuserinfo.address" />
        <result column="post_code" jdbcType="VARCHAR" property="sysuserinfo.postCode" />
        <result column="height" jdbcType="VARCHAR" property="sysuserinfo.height" />
        <result column="weight" jdbcType="VARCHAR" property="sysuserinfo.weight" />
        <result column="birthday" jdbcType="DATE" property="sysuserinfo.birthday" />
        <result column="blood" jdbcType="VARCHAR" property="sysuserinfo.blood" />
        <result column="culture" jdbcType="VARCHAR" property="sysuserinfo.culture" />
        <result column="finish_school_date" jdbcType="DATE" property="sysuserinfo.finishSchoolDate" />
        <result column="folk" jdbcType="VARCHAR" property="sysuserinfo.folk" />
        <result column="government" jdbcType="VARCHAR" property="sysuserinfo.government" />
        <result column="homepage" jdbcType="VARCHAR" property="sysuserinfo.homepage" />
        <result column="householder" jdbcType="VARCHAR" property="sysuserinfo.householder" />
        <result column="marriage" jdbcType="VARCHAR" property="sysuserinfo.marriage" />
        <result column="msn" jdbcType="VARCHAR" property="sysuserinfo.msn" />
        <result column="nativity_address" jdbcType="VARCHAR" property="sysuserinfo.nativityAddress" />
        <result column="qq" jdbcType="VARCHAR" property="sysuserinfo.qq" />
        <result column="speciality" jdbcType="VARCHAR" property="sysuserinfo.speciality" />
        <result column="description" jdbcType="VARCHAR" property="sysuserinfo.description" />
        <result column="version" jdbcType="BIGINT" property="sysuserinfo.version" />
    </resultMap >
    <resultMap id="BaseResultExtMapext" type="com.goku.mybatis.model.sysUser">
        <id column="id" jdbcType="VARCHAR" property="id" />
        <result column="username" jdbcType="VARCHAR" property="username" />
        <result column="password" jdbcType="VARCHAR" property="password" />
        <result column="name" jdbcType="VARCHAR" property="name" />
        <result column="sex" jdbcType="VARCHAR" property="sex" />
        <result column="status" jdbcType="CHAR" property="status" />
        <result column="org_id" jdbcType="VARCHAR" property="orgId" />
        <result column="email" jdbcType="VARCHAR" property="email" />
        <result column="idcard" jdbcType="VARCHAR" property="idcard" />
        <result column="is_admin" jdbcType="VARCHAR" property="isAdmin" />
        <result column="sort" jdbcType="BIGINT" property="sort" />
        <result column="mobile" jdbcType="VARCHAR" property="mobile" />
        <result column="address" jdbcType="VARCHAR" property="sysuserinfo.address" />
        <result column="height" jdbcType="VARCHAR" property="sysuserinfo.height" />
        <result column="weight" jdbcType="VARCHAR" property="sysuserinfo.weight" />
        <result column="birthday" jdbcType="DATE" property="sysuserinfo.birthday" />
        <result column="blood" jdbcType="VARCHAR" property="sysuserinfo.blood" />
        <result column="culture" jdbcType="VARCHAR" property="sysuserinfo.culture" />
        <result column="finish_school_date" jdbcType="DATE" property="sysuserinfo.finishSchoolDate" />
        <result column="folk" jdbcType="VARCHAR" property="sysuserinfo.folk" />
        <result column="government" jdbcType="VARCHAR" property="sysuserinfo.government" />
        <result column="homepage" jdbcType="VARCHAR" property="sysuserinfo.homepage" />
        <result column="householder" jdbcType="VARCHAR" property="sysuserinfo.householder" />
        <result column="marriage" jdbcType="VARCHAR" property="sysuserinfo.marriage" />
        <result column="msn" jdbcType="VARCHAR" property="sysuserinfo.msn" />
        <result column="nativity_address" jdbcType="VARCHAR" property="sysuserinfo.nativityAddress" />
        <result column="qq" jdbcType="VARCHAR" property="sysuserinfo.qq" />
        <result column="speciality" jdbcType="VARCHAR" property="sysuserinfo.speciality" />
        <result column="description" jdbcType="VARCHAR" property="sysuserinfo.description" />
        <result column="version" jdbcType="BIGINT" property="sysuserinfo.version" />
    </resultMap >
    <resultMap type="com.goku.mybatis.model.sysUser" id="BaseResultExtMapext2">
        <id column="id" jdbcType="VARCHAR" property="id" />
        <result column="username" jdbcType="VARCHAR" property="username" />
        <result column="password" jdbcType="VARCHAR" property="password" />
        <result column="name" jdbcType="VARCHAR" property="name" />
        <result column="sex" jdbcType="VARCHAR" property="sex" />
        <result column="status" jdbcType="CHAR" property="status" />
        <result column="org_id" jdbcType="VARCHAR" property="orgId" />
        <result column="email" jdbcType="VARCHAR" property="email" />
        <result column="idcard" jdbcType="VARCHAR" property="idcard" />
        <result column="is_admin" jdbcType="VARCHAR" property="isAdmin" />
        <result column="sort" jdbcType="BIGINT" property="sort" />
        <result column="mobile" jdbcType="VARCHAR" property="mobile" />
        <association property="sysuserinfo" column="id" select="findsysUserInfoById"/>
    </resultMap>
    <resultMap type="com.goku.mybatis.model.sysUser" id="BaseResultExtMapext3">
        <id column="id" jdbcType="VARCHAR" property="id" />
        <result column="username" jdbcType="VARCHAR" property="username" />
        <result column="password" jdbcType="VARCHAR" property="password" />
        <result column="name" jdbcType="VARCHAR" property="name" />
        <result column="sex" jdbcType="VARCHAR" property="sex" />
        <result column="status" jdbcType="CHAR" property="status" />
        <result column="org_id" jdbcType="VARCHAR" property="orgId" />
        <result column="email" jdbcType="VARCHAR" property="email" />
        <result column="idcard" jdbcType="VARCHAR" property="idcard" />
        <result column="is_admin" jdbcType="VARCHAR" property="isAdmin" />
        <result column="sort" jdbcType="BIGINT" property="sort" />
        <result column="mobile" jdbcType="VARCHAR" property="mobile" />
        <association property="sysuserinfo" resultMap="userinfoBaseResultMap" />
    </resultMap>
    <resultMap type="com.goku.mybatis.model.sysUser" id="BaseResultExtMapext4">
        <id column="id" jdbcType="VARCHAR" property="id" />
        <result column="username" jdbcType="VARCHAR" property="username" />
        <result column="password" jdbcType="VARCHAR" property="password" />
        <result column="name" jdbcType="VARCHAR" property="name" />
        <result column="sex" jdbcType="VARCHAR" property="sex" />
        <result column="status" jdbcType="CHAR" property="status" />
        <result column="org_id" jdbcType="VARCHAR" property="orgId" />
        <result column="email" jdbcType="VARCHAR" property="email" />
        <result column="idcard" jdbcType="VARCHAR" property="idcard" />
        <result column="is_admin" jdbcType="VARCHAR" property="isAdmin" />
        <result column="sort" jdbcType="BIGINT" property="sort" />
        <result column="mobile" jdbcType="VARCHAR" property="mobile" />
        <association property="sysuserinfo" javaType="com.goku.mybatis.model.sysUserInfo">
            <id column="id" jdbcType="VARCHAR" property="id" />
            <result column="address" jdbcType="VARCHAR" property="address" />
            <result column="post_code" jdbcType="VARCHAR" property="postCode" />
            <result column="height" jdbcType="VARCHAR" property="height" />
            <result column="weight" jdbcType="VARCHAR" property="weight" />
            <result column="birthday" jdbcType="DATE" property="birthday" />
            <result column="blood" jdbcType="VARCHAR" property="blood" />
            <result column="culture" jdbcType="VARCHAR" property="culture" />
            <result column="finish_school_date" jdbcType="DATE" property="finishSchoolDate" />
            <result column="folk" jdbcType="VARCHAR" property="folk" />
            <result column="government" jdbcType="VARCHAR" property="government" />
            <result column="homepage" jdbcType="VARCHAR" property="homepage" />
            <result column="householder" jdbcType="VARCHAR" property="householder" />
            <result column="marriage" jdbcType="VARCHAR" property="marriage" />
            <result column="msn" jdbcType="VARCHAR" property="msn" />
            <result column="nativity_address" jdbcType="VARCHAR" property="nativityAddress" />
            <result column="qq" jdbcType="VARCHAR" property="qq" />
            <result column="speciality" jdbcType="VARCHAR" property="speciality" />
            <result column="description" jdbcType="VARCHAR" property="description" />
            <result column="version" jdbcType="BIGINT" property="version" />
        </association>
    </resultMap>
    <sql id="Base_Ext_Column_List">
        id, username, password, name, sex, status, org_id, email, idcard, is_admin, sort,
        mobile
    </sql>
    <select id="selectByUsername" parameterType="java.lang.String" resultMap="BaseResultExtMap">
        select
        <include refid="Base_Ext_Column_List" />
        from sys_user
        where username = #{username,jdbcType=VARCHAR}
    </select>
    <select id="validUser"  resultMap="BaseResultExtMap">
        select
        <include refid="Base_Ext_Column_List" />
        from sys_user
        where username = #{username,jdbcType=VARCHAR}
        and password = #{password,jdbcType=VARCHAR}
        and org_id = #{orgid,jdbcType=VARCHAR}
    </select>
    <select id="selectUserByOrgid"  resultType="java.util.HashMap">
        select  username,password from sys_user where org_id = #{orgid,jdbcType=VARCHAR}
        <if test="orderFiled != null" >
            order by  ${orderFiled}
            <if test="orderSort != null" >
                ${orderSort}
            </if>
        </if>
    </select>
    <select id="selectUserByUsername"  resultType="java.util.HashMap">
        select  username,password from sys_user where username = #{username,jdbcType=VARCHAR}
    </select>
    <insert id="insertsysUser" parameterType="com.goku.mybatis.model.sysUser">
     insert into sys_user (id, username, password,
      name, sex, status, org_id,
      email, idcard, is_admin,
      sort, mobile, stationid
      )
    values (#{id,jdbcType=VARCHAR}, #{username,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR},
      #{name,jdbcType=VARCHAR}, #{sex,jdbcType=VARCHAR}, #{status,jdbcType=CHAR}, #{orgId,jdbcType=VARCHAR},
      #{email,jdbcType=VARCHAR}, #{idcard,jdbcType=VARCHAR}, #{isAdmin,jdbcType=VARCHAR},
      #{sort,jdbcType=BIGINT}, #{mobile,jdbcType=VARCHAR}, #{stationid,jdbcType=LONGVARCHAR}
      )
    </insert>
    <insert id="insertsysUser2" parameterType="com.goku.mybatis.model.sysUser" useGeneratedKeys="true"
            keyProperty="id">
        insert into sys_user ( username, password,
        name, sex, status, org_id,
        email, idcard, is_admin,
        sort, mobile, stationid
        )
        values ( #{username,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR},
        #{name,jdbcType=VARCHAR}, #{sex,jdbcType=VARCHAR}, #{status,jdbcType=CHAR}, #{orgId,jdbcType=VARCHAR},
        #{email,jdbcType=VARCHAR}, #{idcard,jdbcType=VARCHAR}, #{isAdmin,jdbcType=VARCHAR},
        #{sort,jdbcType=BIGINT}, #{mobile,jdbcType=VARCHAR}, #{stationid,jdbcType=LONGVARCHAR}
        )
    </insert>
    <insert id="insertsysUser3" parameterType="com.goku.mybatis.model.sysUser">
        <selectKey keyProperty="id" resultType="java.lang.String" order="BEFORE">
              SELECT replace(uuid(),'-','')  AS id
        </selectKey>
        insert into sys_user (id, username, password,
        name, sex, status, org_id,
        email, idcard, is_admin,
        sort, mobile, stationid
        )
        values (#{id,jdbcType=VARCHAR}, #{username,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR},
        #{name,jdbcType=VARCHAR}, #{sex,jdbcType=VARCHAR}, #{status,jdbcType=CHAR}, #{orgId,jdbcType=VARCHAR},
        #{email,jdbcType=VARCHAR}, #{idcard,jdbcType=VARCHAR}, #{isAdmin,jdbcType=VARCHAR},
        #{sort,jdbcType=BIGINT}, #{mobile,jdbcType=VARCHAR}, #{stationid,jdbcType=LONGVARCHAR}
        )
    </insert>
    <update id="updateUser" parameterType="com.goku.mybatis.model.sysUser">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update sys_user
        set username = #{username,jdbcType=VARCHAR},
        password = #{password,jdbcType=VARCHAR},
        name = #{name,jdbcType=VARCHAR},
        sex = #{sex,jdbcType=VARCHAR},
        status = #{status,jdbcType=CHAR},
        org_id = #{orgId,jdbcType=VARCHAR},
        email = #{email,jdbcType=VARCHAR},
        idcard = #{idcard,jdbcType=VARCHAR},
        is_admin = #{isAdmin,jdbcType=VARCHAR},
        sort = #{sort,jdbcType=BIGINT},
        mobile = #{mobile,jdbcType=VARCHAR},
        stationid = #{stationid,jdbcType=LONGVARCHAR}
        where id = #{id,jdbcType=VARCHAR}
    </update>
    <delete id="deleteByUserName" parameterType="java.lang.String">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from sys_user
        where username = #{username,jdbcType=VARCHAR}
    </delete>
    <select id="selectByUsernameORorg" parameterType="java.lang.String" resultMap="BaseResultExtMap">
        select
        <include refid="Base_Ext_Column_List" />
        from sys_user
        where is_admin=1
        <choose>
          <when test="username != null">
            AND username like#{username,jdbcType=VARCHAR}
          </when>
          <when test="name != null ">
            AND name like #{name,jdbcType=VARCHAR}
          </when>
          <otherwise>
            AND org_id =#{orgid,jdbcType=VARCHAR}
          </otherwise>
        </choose>
    </select>
    <select id="selectByUsernameORorg2" parameterType="java.lang.String" resultMap="BaseResultExtMap">
        select
        <include refid="Base_Ext_Column_List" />
        from sys_user
        <where>
            <if test="name != null">
                name = #{name,jdbcType=VARCHAR}
            </if>
            <if test="username != null">
                AND username like #{username,jdbcType=VARCHAR}
            </if>
        </where>
    </select>
    <select id="selectUserByOrgid2"  resultType="java.util.HashMap">
        select  username,password from sys_user where org_id  IN
        <foreach item="item" index="index" collection="list"
                 open="(" separator="," close=")">
            #{item}
        </foreach>
    </select>
    <select id="selectByUsername2" parameterType="java.lang.String" resultMap="BaseResultExtMap">
        <bind name="username" value="'%' + username + '%'" />
        select
        <include refid="Base_Ext_Column_List" />
        from sys_user
        where username LIKE #{username}
    </select>
    <select id="selectextends" parameterType="java.lang.String" resultMap="UserinfoBaseResultExtMap">
        select
         u.id, username, password, name, sex, status, org_id, email, idcard, is_admin, sort,
        mobile,address, post_code, height, weight, birthday, blood, culture, finish_school_date,
        folk, government, homepage, householder, marriage, msn, nativity_address, qq, speciality,
        description, version
        from sys_user u LEFT OUTER JOIN sys_user_info ui ON  u.id=ui.id
           where username = #{username,jdbcType=VARCHAR}
    </select>
    <select id="selectextends2" parameterType="java.lang.String" resultMap="BaseResultExtMapext">
        select
        u.id, username, password, name, sex, status, org_id, email, idcard, is_admin, sort,
        mobile,address, post_code, height, weight, birthday, blood, culture, finish_school_date,
        folk, government, homepage, householder, marriage, msn, nativity_address, qq, speciality,
        description, version
        from sys_user u LEFT OUTER JOIN sys_user_info ui ON  u.id=ui.id
        where username = #{username,jdbcType=VARCHAR}
    </select>
    <select id="selectextends3" parameterType="java.lang.String" resultType="java.util.HashMap">
        select
        u.id, username, password, name, sex, status, org_id, email, idcard, is_admin, sort,
        mobile,address, post_code, height, weight, birthday, blood, culture, finish_school_date,
        folk, government, homepage, householder, marriage, msn, nativity_address, qq, speciality,
        description, version
        from sys_user u LEFT OUTER JOIN sys_user_info ui ON  u.id=ui.id
        where username = #{username,jdbcType=VARCHAR}
    </select>
    <select id="findsysUserInfoById" parameterType="String"
            resultMap="userinfoBaseResultMap">
        SELECT * FROM  sys_user_info where id = #{id,jdbcType=VARCHAR}
    </select>
    <select id="selectextends4" parameterType="java.lang.String" resultMap="BaseResultExtMapext2">
        select *  from sys_user  where username = #{username,jdbcType=VARCHAR}
    </select>
    <select id="selectextends5" parameterType="java.lang.String" resultMap="BaseResultExtMapext3">
        select
        u.id, username, password, name, sex, status, org_id, email, idcard, is_admin, sort,
        mobile,address, post_code, height, weight, birthday, blood, culture, finish_school_date,
        folk, government, homepage, householder, marriage, msn, nativity_address, qq, speciality,
        description, version
        from sys_user u LEFT OUTER JOIN sys_user_info ui ON  u.id=ui.id
        where username = #{username,jdbcType=VARCHAR}
    </select>
    <select id="selectextends6" parameterType="java.lang.String" resultMap="BaseResultExtMapext4">
        select
        u.id, username, password, name, sex, status, org_id, email, idcard, is_admin, sort,
        mobile,address, post_code, height, weight, birthday, blood, culture, finish_school_date,
        folk, government, homepage, householder, marriage, msn, nativity_address, qq, speciality,
        description, version
        from sys_user u LEFT OUTER JOIN sys_user_info ui ON  u.id=ui.id
        where username = #{username,jdbcType=VARCHAR}
    </select>
</mapper>